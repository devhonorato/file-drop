<div style=" display: flex;justify-content: space-between;padding: 0px 0px 1em 0px;border-bottom: 1px solid #f0f0f0;margin-bottom: 1em; ">
    <div>
        <h5 class="p-0 m-0">Edit Image</h5>
    </div>
    <div style=" display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-between; width: 180px; ">
        <button class="btn btn-secondary btn-sm " (click)="closeModal()">
            {{cancelButtonText}}
        </button>
        <button class="btn btn-primary btn-sm " (click)="saveImgcroped2()">
            {{okButtonText}}
        </button>
    </div>

</div>
<div>

    <!-- <div>{{message}}</div> -->

    <div style="display: flex;flex-wrap: wrap;flex-direction: row;justify-content: space-evenly;align-items: center;align-content: center;padding-bottom: 10px;">

        <div class="btn-group mb-3 btn-group-sm" role="group">
            <button [ngClass]="{'active': aspectRatio === 1 || !maintainAspectRatioTrueFalse}" (click)="trueFalseMaintainAspectRatio(); aspectRatioActive(1)" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; ">
                <!-- Corte : {{maintainAspectRatioTrueFalse?'Proporção':'Livre'}} -->

                <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;">
                    {{maintainAspectRatioTrueFalse?'image_aspect_ratio':'aspect_ratio'}}
                </span>
            </button>

          <button [ngClass]="{'active': aspectRatio === 2}" (click)="aspectRatio1x1(); aspectRatioActive(2)" [disabled]="!maintainAspectRatioTrueFalse" type="button" class="btn btn-outline-dark btn-sm">
            1 : 1
          </button>
          <button [ngClass]="{'active': aspectRatio === 3}" (click)="aspectRatio2x3(); aspectRatioActive(3)" [disabled]="!maintainAspectRatioTrueFalse" type="button" class="btn btn-outline-dark btn-sm">
            2 : 3
          </button>
          <button [ngClass]="{'active': aspectRatio === 4}" (click)="aspectRatio3x2(); aspectRatioActive(4)" [disabled]="!maintainAspectRatioTrueFalse" type="button" class="btn btn-outline-dark btn-sm">
            3 : 2
          </button>
          <button [ngClass]="{'active': aspectRatio === 0}" (click)="aspectRatio4x3(); aspectRatioActive(0)" [disabled]="!maintainAspectRatioTrueFalse" type="button" class="btn btn-outline-dark btn-sm">
            4 : 3
          </button>
          <button [ngClass]="{'active': aspectRatio === 5}" (click)="aspectRatio5x4(); aspectRatioActive(5)" [disabled]="!maintainAspectRatioTrueFalse" type="button" class="btn btn-outline-dark btn-sm">
            5 : 4
          </button>
          <button [ngClass]="{'active': aspectRatio === 6}" (click)="aspectRatio16x9(); aspectRatioActive(6)" [disabled]="!maintainAspectRatioTrueFalse" type="button" class="btn btn-outline-dark btn-sm">
            16 : 9
          </button>
        </div>

        <div class="btn-group mb-3 btn-group-sm" role="group">
          <input type="color" id="pick_color" class="btn btn-outline-dark btn-sm" (change)="clickColor()" value="#00000" style="width: 39px !important;height: 31px !important;padding: 5px;">

          <button (click)="backgroundReplace()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; " *ngIf="imageType == 'png'">
            <!-- <i class="fa fa-search-minus" style="font-size: .8rem;margin-right: 5px;padding: 0;"></i> -->
            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;">
                background_replace
            </span>
            <!-- Zoom -->
          </button>
          <button (click)="zoomOut()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; ">
            <!-- <i class="fa fa-search-minus" style="font-size: .8rem;margin-right: 5px;padding: 0;"></i> -->
            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;">
                zoom_out
            </span>
            <!-- Zoom -->
          </button>
          <button (click)="zoomIn()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; ">
            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;">
                zoom_in
            </span>
            <!-- Zoom
            <i class="fa fa-search-plus" style="font-size: .8rem;margin-left: 5px;padding: 0;"></i> -->
          </button>

          <button (click)="rotateLeft()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; ">
            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;">
                rotate_left
            </span>
            <!-- Rotacionar Esquerda -->
          </button>
          <button (click)="rotateRight()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; ">
            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;">
                rotate_right
            </span>
            <!-- Rotacionar Direita -->
          </button>

          <button (click)="flipHorizontal()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; ">
            <!-- <i class="fa fa-sort" style="font-size: 15px; transform: rotate(90deg); margin-right: 5px;"></i> -->
            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;">
                flip
            </span>
            <!-- Inverter Horizontalmente -->
          </button>
          <button (click)="flipVertical()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; ">

            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;transform: rotate(90deg);">
                flip
            </span>
            <!-- Inverter Verticalmente -->
          </button>
        </div>

        <div class="btn-group mb-3 btn-group-sm" role="group">
          <button (click)="toggleContainWithinAspectRatio()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; ">
            <!-- <i [ngClass]="containWithinAspectRatio ? 'fa fa-expand' : 'fa fa-compress'" style="font-size: .8rem;margin-right: 5px;padding: 0;"></i> -->
            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;padding-right: 5px;">
                {{containWithinAspectRatio?'zoom_out_map':'zoom_in_map'}}
            </span>
            <!-- {{containWithinAspectRatio?'Proporção de preenchimento':'Conter dentro da proporção'}} -->
            {{containWithinAspectRatio?'Fill':'Proportion'}}
          </button>
        </div>

        <div class="btn-group mb-3 btn-group-sm" role="group">
          <button (click)="resetImage()" type="button" class="btn btn-outline-dark btn-sm" style=" display: flex; align-items: center; justify-content: center; ">
            <span class="material-symbols-outlined notranslate"  content="notranslate" style="font-size: 21px;text-align: center;">
                reset_image
            </span>
            <!-- Redefinir imagem
            <i class="fa fa-rotate-left" style="font-size: .8rem;margin-left: 5px;padding: 0;"></i> -->
          </button>
        </div>

      </div>
<div class="row p-0 m-0" style="display: flex;align-items: flex-start;flex-direction: row;flex-wrap: wrap;" >
    <div class="col-md-6" style="display: flex;justify-content: center;flex-direction: column;align-items: center;">
      <p style="width: 175px;font-size: 13px;background: #f1ab61;color: #fff;text-align: center;padding: 1px;font-weight: bold;border-radius: 11px;margin: 0;z-index: 1;">Crop <i class="fa fa-crop" style="margin-left: 5px;padding: 0;"></i></p>
      <div style="width: 100%;border: 1px solid #eaaa67;padding: 15px;position: relative;top: -10px;border-radius: 8px;background: #eaaa671f;">
    <image-cropper
    [imageBase64]="imagetochange"
    [imageChangedEvent]="imageChangedEvent"
    [maintainAspectRatio]="maintainAspectRatioTrueFalse"
    [containWithinAspectRatio]="containWithinAspectRatio"
    [aspectRatio]="aspectRatioX / aspectRatioY"
    [onlyScaleDown]="true"
    [roundCropper]="false"
    [canvasRotation]="canvasRotation"
    format="png"
    [transform]="transform"
    [alignImage]="'center'"
    [style.display]="showCropper ? null : 'none'"
    (imageCropped)="imageCropped($event)"
    (imageLoaded)="imageLoaded()"
    (cropperReady)="cropperReady($event)"
    (loadImageFailed)="loadImageFailed()"
    [backgroundColor]="bgColor"
    *ngIf="imageType == 'png'"
    ></image-cropper>

    <image-cropper
    [imageBase64]="imagetochange"
    [imageChangedEvent]="imageChangedEvent"
    [maintainAspectRatio]="maintainAspectRatioTrueFalse"
    [containWithinAspectRatio]="containWithinAspectRatio"
    [aspectRatio]="aspectRatioX / aspectRatioY"
    [onlyScaleDown]="true"
    [roundCropper]="false"
    [canvasRotation]="canvasRotation"
    format="jpeg"
    [transform]="transform"
    [alignImage]="'center'"
    [style.display]="showCropper ? null : 'none'"
    (imageCropped)="imageCropped($event)"
    (imageLoaded)="imageLoaded()"
    (cropperReady)="cropperReady($event)"
    (loadImageFailed)="loadImageFailed()"
    [backgroundColor]="bgColor"
    *ngIf="imageType == 'jpeg'"
    ></image-cropper>
</div>

</div>

<div class="col-md-6" style="display: flex;justify-content: center;flex-direction: column;align-items: center;">
  <p style="width: 175px;font-size: 13px;background: #007bff;color: #fff;text-align: center;padding: 1px;font-weight: bold;border-radius: 11px;margin: 0;z-index: 1;">Previwer <i class="fa fa-eye" style="margin-left: 5px;padding: 0;"></i></p>
  <div style="width: 100%;border: 1px solid #367efb;padding: 15px;position: relative;top: -10px;border-radius: 8px;background: #367efb1f;">
    <img [src]="croppedImage" *ngIf="imagetochange" style="width: 100%"/>
  </div>
</div>
</div>

</div>
